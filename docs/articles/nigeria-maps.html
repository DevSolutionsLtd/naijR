<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>nigeria-maps â€¢ naijR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="nigeria-maps">
<meta property="og:description" content="naijR">
<meta property="og:image" content="http://brovic.github.io/naijR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-174769638-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-174769638-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">naijR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/interactive.html">Approach to Correcting Misspelt Local Government Areas</a>
    </li>
    <li>
      <a href="../articles/nigeria-maps.html">nigeria-maps</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/BroVic/naijR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="nigeria-maps_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>nigeria-maps</h1>
            
            <h4 class="date">2021-12-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/BroVic/naijR/blob/master/vignettes/nigeria-maps.Rmd"><code>vignettes/nigeria-maps.Rmd</code></a></small>
      <div class="hidden name"><code>nigeria-maps.Rmd</code></div>

    </div>

    
    
<p>The need for relatively easy-to-use tools in the R statistical environment for mapping data on Nigeria was a motivation for the development of this package. Not so much of low-level programming needs to be done by the user; rather a collection of pre-existing packages and idioms are brought together to enable a focus on actual data visualization.</p>
<p>The main function for drawing Nigeria maps is <code>map_ng</code>. It uses data from the CIA World Database provided by the <code>mapdata</code> package as well as ESRI shapefiles from the World Bank to draw a simple maps of Nigeria.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://brovic.github.io/naijR/">naijR</a></span><span class="op">)</span>

<span class="fu"><a href="../reference/map_ng.html">map_ng</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="nigeria-maps_files/figure-html/original-map-1.png" width="700"></p>
<p>To show the map without the state borders, set the first argument (<code>region</code>) to <code>NULL</code>. Thus, with all other arguments set to default values, that would be</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_ng.html">map_ng</a></span><span class="op">(</span><span class="st">"Nigeria"</span><span class="op">)</span></code></pre></div>
<p><img src="nigeria-maps_files/figure-html/outline-map-1.png" width="700"></p>
<p>All the Local Government Areas can equally be displayed, using a map that, by default, does not display text, so as to avoid cluttering. This kind of map is useful for charting choropleth maps, as shown below for the States. To this, we pass the value produced by <code><a href="../reference/lgas.html">lgas()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_ng.html">map_ng</a></span><span class="op">(</span><span class="fu"><a href="../reference/lgas.html">lgas</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="nigeria-maps_files/figure-html/all-lga-map-1.png" width="700"></p>
<p>It is also possible to make maps of sub-national divisions by defining them via <code>region</code>. For example, <code><a href="../reference/states.html">states("sw")</a></code> returns a character vector of the states in the South-West geopolitical zone (see <code><a href="../reference/states.html">?states</a></code>). To display them on a map with a few embellishments like labelling and colour, write</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_ng.html">map_ng</a></span><span class="op">(</span><span class="fu"><a href="../reference/states.html">states</a></span><span class="op">(</span>gpz <span class="op">=</span> <span class="st">"sw"</span><span class="op">)</span>, show.text <span class="op">=</span> <span class="cn">TRUE</span>, col <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></code></pre></div>
<p><img src="nigeria-maps_files/figure-html/south-west-1.png" width="700"></p>
<p>A single state can also be drawn:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kk</span> <span class="op">&lt;-</span> <span class="st">"Kebbi"</span>
<span class="fu"><a href="../reference/map_ng.html">map_ng</a></span><span class="op">(</span><span class="va">kk</span>, col <span class="op">=</span> <span class="fl">6</span>, fill <span class="op">=</span> <span class="cn">TRUE</span>, title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">kk</span>, <span class="st">"State"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="nigeria-maps_files/figure-html/singleton-1.png" width="700"></p>
<div id="choropleth-maps" class="section level2">
<h2 class="hasAnchor">
<a href="#choropleth-maps" class="anchor"></a>Choropleth maps</h2>
<p>Choropleth maps that display differences among regions can also be created with <code>map_ng</code>. There are a number of ways this can be done, depending on the kind of arguments supplied to the function:</p>
<ul>
<li>A data frame containing a column for the regions and at least one other for the data to be displayed, or</li>
<li>An atomic vector for the regions and another for the data to be displayed.</li>
</ul>
<p>This map is built on categorical data (i.e.Â <code>factor</code>s); atomic vectors that are coercible to this class are also accepted. In the case of numeric data, notably those of type <code>double</code>, they can be coaxed into categories only if class boundaries are provided via the <code>breaks</code> argument.</p>
<p>To demonstrate this, we will create a data frame with some meaningless data:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create variables</span>
<span class="va">ss</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/states.html">states</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">numStates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">ss</span><span class="op">)</span>
<span class="va">vv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="va">numStates</span>, <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># Create a data frame and view top rows</span>
<span class="va">dd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>state <span class="op">=</span> <span class="va">ss</span>, var <span class="op">=</span> <span class="va">vv</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dd</span><span class="op">)</span>
<span class="co">#&gt;       state var</span>
<span class="co">#&gt; 1      Abia   E</span>
<span class="co">#&gt; 2   Adamawa   C</span>
<span class="co">#&gt; 3 Akwa Ibom   B</span>
<span class="co">#&gt; 4   Anambra   D</span>
<span class="co">#&gt; 5    Bauchi   A</span>
<span class="co">#&gt; 6   Bayelsa   B</span></code></pre></div>
<div id="using-a-data-frame" class="section level3">
<h3 class="hasAnchor">
<a href="#using-a-data-frame" class="anchor"></a>Using a data frame</h3>
<p>To draw this choropleth, we will use the data frame approach first:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_ng.html">map_ng</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dd</span>, x <span class="op">=</span> <span class="va">var</span>, show.text <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="nigeria-maps_files/figure-html/df-approach-1.png" width="700"></p>
<p>Note the following:</p>
<ul>
<li>The argument <code>var</code> is the name of the column of our data frame that has the variable to be mapped. It is found via the mechanism called <em>quasiquotation</em>; to explore this further see <code><a href="https://rdrr.io/pkg/rlang/man/nse-force.html">?rlang::quasiquotation</a></code>.</li>
<li>The colours darken sequentially from A through E and it follows the natural (alphabetical) ordering of the factor levels (i.e.Â category labels). To control this order upfront, create an <strong>ordered factor</strong> using any the various ways available in R. (See <code><a href="https://rdrr.io/r/base/factor.html">?ordered</a></code>)</li>
<li>Our variable <code>var</code> is actually a character vector, but internally is converted to a factor.</li>
</ul>
</div>
<div id="using-atomic-vectors" class="section level3">
<h3 class="hasAnchor">
<a href="#using-atomic-vectors" class="anchor"></a>Using atomic vectors</h3>
<p>We can use the same data to make the same map, but with a different coding approach:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_ng.html">map_ng</a></span><span class="op">(</span>region <span class="op">=</span> <span class="va">ss</span>, x <span class="op">=</span> <span class="va">vv</span>, col <span class="op">=</span> <span class="st">"red"</span>, show.text <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="nigeria-maps_files/figure-html/vec-approach-1.png" width="700"></p>
<p>Itâ€™s exactly same map as before, but this time, we used 2 vectors to provide the data â€“ one for the regions (in this case the 36 States and FCT) and another for the categorization. We have also introduced some colouring with the <code>col</code> argument. Although it has the same data, if we try to use the column name from <code>dd</code>, we have an error.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_ng.html">map_ng</a></span><span class="op">(</span>region <span class="op">=</span> <span class="va">ss</span>, x <span class="op">=</span> <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; Error: One or more inputs for generating choropleth options are invalid</span></code></pre></div>
</div>
<div id="numerical-values" class="section level3">
<h3 class="hasAnchor">
<a href="#numerical-values" class="anchor"></a>Numerical values</h3>
<p>When the data to be categorized are numeric vectors, the categories have to be defined. To achieve this, the <code>breaks</code> argument has to be supplied. This is a numeric vector that describes class limits for grouping the values. The number of classes is <code>length(breaks) - 1</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="va">numStates</span>, max <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>  <span class="co"># random real numbers ranging from 0 - 100</span>
<span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">100</span><span class="op">)</span>

<span class="fu"><a href="../reference/map_ng.html">map_ng</a></span><span class="op">(</span>region <span class="op">=</span> <span class="va">ss</span>, x <span class="op">=</span> <span class="va">nn</span>, breaks <span class="op">=</span> <span class="va">bb</span>, col <span class="op">=</span> <span class="st">'YlOrRd'</span>, show.text <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="nigeria-maps_files/figure-html/numeric-choropleth-1.png" width="700"></p>
<p>To get a more meaningful and interpretable legend, use the <code>categories</code> argument.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_ng.html">map_ng</a></span><span class="op">(</span>
  region <span class="op">=</span> <span class="va">ss</span>,
  x <span class="op">=</span> <span class="va">nn</span>,
  breaks <span class="op">=</span> <span class="va">bb</span>,
  categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Low"</span>, <span class="st">"Medium"</span>, <span class="st">"High"</span><span class="op">)</span>,
  col <span class="op">=</span> <span class="fl">3L</span>, 
  show.text <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
<p><img src="nigeria-maps_files/figure-html/good-legend-1.png" width="700"></p>
<p>Note that various colour arguments have been used, some of them kind of cryptic. More details on how to use the colouring schemes, check the help page of <code><a href="../reference/map_ng.html">?map_ng</a></code>.</p>
</div>
</div>
<div id="mapping-of-point-data" class="section level2">
<h2 class="hasAnchor">
<a href="#mapping-of-point-data" class="anchor"></a>Mapping of point data</h2>
<p>To show the distribution of point data on any the maps such as GIS location data, a different set of arguments is employed. Since point data requires a pair of coordinates to be accurate, both the <code>x</code> and <code>y</code> arguments MUST be provided. Once the function receives both coordinates, either as separate atomic vectors or as columns from a data frame, <code>map_ng</code> defaults to the mapping of points only in within the boundaries indicated by <code>region</code>. It looks like this:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3.000</span>, <span class="fl">4.000</span>, <span class="fl">6.000</span>, <span class="fl">5.993</span>, <span class="fl">5.444</span>, <span class="fl">6.345</span>, <span class="fl">5.744</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">8.000</span>, <span class="fl">9.000</span>, <span class="fl">9.300</span>, <span class="fl">10.432</span>, <span class="fl">8.472</span>, <span class="fl">6.889</span>, <span class="fl">9.654</span><span class="op">)</span>

<span class="fu"><a href="../reference/map_ng.html">map_ng</a></span><span class="op">(</span><span class="st">"Nigeria"</span>, x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span></code></pre></div>
<p><img src="nigeria-maps_files/figure-html/pointmap-1.png" width="700"></p>
<p>The function <code>map_ng</code> carries out a bounds check on point data and returns an error, and the points are not plotted, when the coordinates are beyond the region. For instance, using the same points provided earlier, if we try to plot them on a map of Kwara State,</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_ng.html">map_ng</a></span><span class="op">(</span><span class="st">"Kwara"</span>, x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span>
<span class="co">#&gt; Error in map_ng("Kwara", x = x, y = y): Coordinates are out of bounds of the map</span></code></pre></div>
<p><img src="nigeria-maps_files/figure-html/out-of-bounds-1.png" width="700"></p>
</div>
<div id="conclusion" class="section level2">
<h2 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h2>
<p>This vignette provided an initial look at the mapping facilities currently available in the <code>naijR</code> package. Additional development is going on to provide the user with more granular control. This is an open source project, and contributions are welcome.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Victor Ordu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
