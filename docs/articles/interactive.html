<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Approach to Correcting Misspelt Local Government Areas • naijR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Approach to Correcting Misspelt Local Government Areas">
<meta property="og:description" content="naijR">
<meta property="og:image" content="http://brovic.github.io/naijR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-174769638-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-174769638-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">naijR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/interactive.html">Approach to Correcting Misspelt Local Government Areas</a>
    </li>
    <li>
      <a href="../articles/nigeria-maps.html">nigeria-maps</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/BroVic/naijR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Approach to Correcting Misspelt Local Government Areas</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/BroVic/naijR/blob/HEAD/vignettes/interactive.Rmd" class="external-link"><code>vignettes/interactive.Rmd</code></a></small>
      <div class="hidden name"><code>interactive.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p>Nigeria has 774 Local Government Areas (LGAs). There a number of factors that can make working with them particularly challenging:</p>
<ol style="list-style-type: decimal">
<li>Some LGAs share the same name with the State to which they belong to e.g. Bauchi LGA in Bauchi State and this can lead to wrong use of the data.</li>
<li>Some LGAs are in different States, but they bear the same name e.g. Obi LGAs in both Benue and Nasarawa States.</li>
<li>Common LGA spelling errors in the literature, even in official documents.</li>
</ol>
</div>
<div class="section level2">
<h2 id="the-solution">The solution<a class="anchor" aria-label="anchor" href="#the-solution"></a>
</h2>
<p>The function <code>fix_region</code> is designed to address spelling errors in sub-national administrative regions of Nigeria, with an emphasis on States and LGAs.</p>
<div class="section level3">
<h3 id="states">States<a class="anchor" aria-label="anchor" href="#states"></a>
</h3>
<p>For the States this is quite straightforward; common minor mistakes can be corrected automatically by this function and since there are only 36 of them, they can otherwise be corrected via an inspection of the output of the function <code><a href="../reference/states.html">states()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="lgas">LGAs<a class="anchor" aria-label="anchor" href="#lgas"></a>
</h3>
<p>LGA spelling fixes are designed to occur in 3 incremental phases. If the user cannot effect the corrections at a particular level s/he can proceed to the next stage. The phases are as follows:</p>
<ol style="list-style-type: decimal">
<li>Automatic</li>
<li>Interactive</li>
<li>Manual</li>
</ol>
<div class="section level4">
<h4 id="automatic-fix">Automatic fix<a class="anchor" aria-label="anchor" href="#automatic-fix"></a>
</h4>
<p>When the spelling error is slight and unambiguous, the function automatically effects the repair of the name.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://brovic.github.io/naijR/" class="external-link">naijR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="st">"Legos Island"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `fix_region()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Incorrect region name(s); consider reconstructing 'x' with `states()`</span></span>
<span><span class="co">#&gt;   or `lgas()` for a more reliable fix</span></span></code></pre></div>
<p>When there is only a single misspelt LGA, and especially if it is supplied to the function as a plain string, the function will signal an error. The thinking is that for a single value that is probably provided interactively, an automated solution may not be necessary.</p>
<p>We will now add another LGA to the function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Legos Island"</span>, <span class="st">"Amuwo-Odofin"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Successful fix(es):</span></span>
<span><span class="co">#&gt; -------------------</span></span>
<span><span class="co">#&gt; * Legos Island =&gt; Lagos Island</span></span></code></pre></div>
<p>On Windows machines and during an interactive R session, the function preferentially utilizes the native graphics interface for messaging and user interaction. The above line of code would appear like this:</p>
<p><img src="img/interactive-1.png"></p>
<p>Sometimes when we use a character vector to perform this check, the function <code>fix_region</code> may encounter difficulty deciding what fixes to apply. In such instances, the best thing to try first is to convert the vector into an <code>lgas</code> object. Note that <code><a href="../reference/lgas.html">lgas()</a></code> will by default signal a warning when the vector we are supplying has misspelt strings, but if the function is nested in a function like <code><a href="../reference/fix_region.html">fix_region()</a></code>, this warning is suppressed. This is to reduce the tautology warnings even after fixes have been duly applied.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Legos Island"</span>, <span class="st">"Amuwo Odofin"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `fix_region()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Incorrect region name(s); consider reconstructing 'x' with `states()`</span></span>
<span><span class="co">#&gt;   or `lgas()` for a more reliable fix</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="fu"><a href="../reference/lgas.html">lgas</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Legos Island"</span>, <span class="st">"Amuwo Odofin"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>This displays the following dialog:</p>
<p><img src="img/interactive-2.png"></p>
<p>When the spelling mistakes depart very far from the function’s partial matching capability, the user is told the fixes that could not be made. A possible solution lies in the next level of name repair.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="fu"><a href="../reference/lgas.html">lgas</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Orange County"</span>, <span class="st">"Amuwo Odofin"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="img/interactive-3.png"></p>
</div>
<div class="section level4">
<h4 id="interactive-fix">Interactive fix<a class="anchor" aria-label="anchor" href="#interactive-fix"></a>
</h4>
<p>When the automatic fixes are not feasible, the user has the option of doing it interactively by calling <code>fix_region</code> and setting its <code>interactive</code> argument to <code>TRUE</code>. By following the prompts, the misspelt LGA as well as possible replacements are presented. All the user needs to do is to select the desired replacement value. This is particularly useful when the user is not sure of what the correct spelling might be.</p>
<p>When a misspelt LGA has more than one match, the interactive approach is the viable option for effecting fixes.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adamawa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fufore"</span>, <span class="st">"Demsa"</span>, <span class="st">"Machika"</span>, <span class="st">"Fufure"</span>, <span class="st">"Ganye"</span>, <span class="st">"Hong"</span><span class="op">)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # check for misspelt LGAs and, if necessary, attempt to fix</span></span>
<span><span class="co">## if (!all(is_lga(adamawa)))</span></span>
<span><span class="co">##   adamawa &lt;- fix_region(adamawa)</span></span></code></pre></div>
<p><img src="img/interactive-4.png"></p>
<p>We see that the purported LGA ‘Machika’ matches more than one LGA in the country. The original intent was to use “Michika”. To address it, we run <code>fix_region</code> interactively. This method of the function is for class <code>lgas</code> so</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adamawa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="fu"><a href="../reference/lgas.html">lgas</a></span><span class="op">(</span><span class="va">adamawa</span><span class="op">)</span>, interactive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="img/interactive-5.png"></p>
<p>Next, the user is provided with a prompt to provide a search item for likely LGAs that would be an appropriate replacement for the misspelt one:</p>
<p><img src="img/interactive-6.png"></p>
<p>We now enter in the search term:</p>
<p><img src="img/interactive-7.png"></p>
<p>Upon clicking “OK”, a list of possible matches comes up; in this instance, only one option is provided. The option ‘RETRY’ allows the user to reset the search term, ‘SKIP’ is to try out another misspelt item (where there are more than one) and ‘QUIT’ is to exit the interactive session.</p>
<p><img src="img/interactive-8.png"></p>
<p><img src="img/interactive-9.png"></p>
<p>When we broaden the search possibilities, more items are listed among the LGA candidates for the edit. In our example, we will provide <em>Mi</em> instead of <em>Mich</em>, so that more LGAs are matched:</p>
<p><img src="img/interactive-10.png"></p>
<p><img src="img/interactive-11.png"></p>
<p><img src="img/interactive-12.png"></p>
<p>At the end of it all, the spellings are fixed.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="../reference/is_lga.html">is_lga</a></span><span class="op">(</span><span class="va">adamawa</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="manual-fixes">Manual fixes<a class="anchor" aria-label="anchor" href="#manual-fixes"></a>
</h4>
<p>When spelling errors are identified and the correct one is known, then a manual fix can be applied. For this, we use the function <code>fix_region_manual</code> and its use is pretty straightforward:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adamawa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fix_region_manual.html">fix_region_manual</a></span><span class="op">(</span><span class="va">adamawa</span>, <span class="st">"Machika"</span>, <span class="st">"Michika"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Victor Ordu.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
